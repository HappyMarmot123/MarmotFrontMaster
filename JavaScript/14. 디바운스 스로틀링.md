# 디바운스와 스로틀링 (Debounce & Throttling)

## 📖 개요

**디바운스(Debounce)**와 **스로틀링(Throttling)**은 이벤트 핸들러의 실행 횟수를 제어하여 웹 애플리케이션의 성능을 최적화하는 핵심 기법입니다. 연속적으로 발생하는 이벤트를 효율적으로 관리하여 불필요한 연산을 줄이고, 사용자 경험을 향상시킵니다.

## 🔍 디바운스와 스로틀링의 기본 개념

### 디바운스 (Debounce)란?

**디바운스**는 이벤트가 **마지막으로 발생한 시점**으로부터 일정 시간 동안 추가적인 이벤트가 발생하지 않았을 때, 한 번만 핸들러를 실행하는 방식입니다. ⏱️

**디바운스의 핵심 원리**:

- **지연 실행**: 이벤트 발생 후 지정된 시간만큼 대기
- **재설정**: 대기 중에 새로운 이벤트가 발생하면 타이머 재설정
- **최종 실행**: 마지막 이벤트 발생 후 지정된 시간이 지나면 한 번만 실행

**디바운스의 특징**:

- **연속 이벤트 그룹화**: 빠르게 연속 발생하는 이벤트를 하나의 그룹으로 처리
- **최종 결과만 처리**: 중간 과정은 무시하고 최종 상태만 반영
- **사용자 입력 최적화**: 타이핑, 검색 등에서 유용

### 스로틀링 (Throttling)이란?

**스로틀링**은 이벤트가 연속적으로 발생하더라도, **일정 시간 간격** 내에서는 **최대 한 번만** 핸들러를 실행하는 방식입니다. 🏃‍♂️

**스로틀링의 핵심 원리**:

- **주기적 실행**: 지정된 시간 간격마다 정기적으로 실행
- **실행 제한**: 간격 내 추가 이벤트는 무시
- **일정한 빈도**: 실행 빈도를 일정하게 유지

**스로틀링의 특징**:

- **빈도 제어**: 이벤트 발생 빈도를 일정한 수준으로 제한
- **실시간 반응**: 주기적으로 반응하여 실시간성 보장
- **성능 최적화**: 과도한 이벤트 처리를 방지

## 💡 디바운스 vs 스로틀링 비교

### 실행 패턴의 차이

**디바운스 실행 패턴**:

```
이벤트 발생 → 대기 시작 → 새 이벤트 발생 → 타이머 재설정 → 대기 → 실행
```

**스로틀링 실행 패턴**:

```
이벤트 발생 → 즉시 실행 → 대기 → 다음 실행 허용 → 이벤트 발생 → 즉시 실행
```

### 사용 시나리오별 선택 기준

**디바운스가 적합한 경우**:

- **검색 입력**: 사용자가 타이핑을 멈춘 후 검색 실행
- **폼 검증**: 입력 완료 후 유효성 검사
- **윈도우 리사이즈**: 크기 조정 완료 후 레이아웃 재계산
- **API 호출**: 연속 요청을 하나로 통합

**스로틀링이 적합한 경우**:

- **스크롤 이벤트**: 스크롤 중 주기적으로 위치 확인
- **게임 입력**: 연속 발사나 이동 처리
- **드래그 앤 드롭**: 드래그 중 주기적으로 위치 업데이트
- **실시간 업데이트**: 주기적인 데이터 갱신

## 📚 라이브러리를 활용한 구현

### Lodash를 사용한 디바운스

```javascript
// Lodash 라이브러리 사용
const debouncedSearch = _.debounce((searchTerm) => {
  console.log("검색 실행:", searchTerm);
  // API 호출
}, 500);

// 추가 옵션 설정
const debouncedWithOptions = _.debounce(
  (searchTerm) => {
    console.log("검색 실행:", searchTerm);
  },
  500,
  {
    leading: true, // 즉시 실행
    trailing: true, // 지연 실행
    maxWait: 1000, // 최대 대기 시간
  }
);
```

### Lodash를 사용한 스로틀링

```javascript
// 기본 스로틀링
const throttledScroll = _.throttle(() => {
  console.log("스크롤 이벤트 처리");
}, 200);

// 옵션이 있는 스로틀링
const throttledWithOptions = _.throttle(
  () => {
    console.log("스크롤 이벤트 처리");
  },
  200,
  {
    leading: true, // 즉시 실행
    trailing: true, // 후행 실행
  }
);
```

## 🎯 성능 최적화 팁

### 1. 적절한 지연 시간 선택

**디바운스 지연 시간**:

- **검색 입력**: 300-500ms (사용자 타이핑 패턴 고려)
- **폼 검증**: 500-1000ms (즉시성보다 정확성 우선)
- **윈도우 리사이즈**: 250-500ms (레이아웃 계산 비용 고려)

**스로틀링 간격**:

- **스크롤 이벤트**: 100-200ms (부드러운 스크롤 경험)
- **게임 입력**: 16-33ms (60fps 기준)
- **드래그 이벤트**: 50-100ms (반응성과 성능의 균형)
