# 커맨드 (Command)

## 개요

- **문제**: 요청을 큐잉/로깅/취소/재실행하려면 호출을 데이터처럼 다뤄야 한다.
- **해법**: 요청을 객체로 캡슐화하고, Invoker/Receiver와 분리한다.

## 장단점

- **장점**: 되돌리기/매크로/히스토리 용이, 결합도 감소
- **단점**: 클래스 수 증가

## JavaScript 예제 (주석 포함)

```javascript
class Light {
  on() {
    console.log("ON");
  }
  off() {
    console.log("OFF");
  }
}
class OnCommand {
  constructor(l) {
    this.l = l;
  }
  execute() {
    this.l.on();
  }
  undo() {
    this.l.off();
  }
}
class OffCommand {
  constructor(l) {
    this.l = l;
  }
  execute() {
    this.l.off();
  }
  undo() {
    this.l.on();
  }
}

class Remote {
  constructor() {
    this.history = [];
  }
  press(cmd) {
    cmd.execute();
    this.history.push(cmd);
  }
  undo() {
    const cmd = this.history.pop();
    cmd?.undo();
  }
}

const remote = new Remote();
const light = new Light();
remote.press(new OnCommand(light));
remote.press(new OffCommand(light));
remote.undo(); // 되돌리기 → ON
```

