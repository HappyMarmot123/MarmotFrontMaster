# 옵저버 (Observer)

## 개요

- **문제**: 한 객체의 상태 변화에 여러 의존자가 자동으로 반응해야 한다.
- **해법**: 발행-구독 모델로 Subject가 변화를 통지하고 Observer가 이를 수신한다.

## 언제 쓰나

## 프론트엔드 활용 아이디어

- **전역 상태 스토어**: Redux/Flux 패턴, 상태 변화 구독
- **실시간 데이터**: WebSocket/SSE 스트림 구독
- **DOM 이벤트**: MutationObserver, ResizeObserver

## 백엔드/전체 활용 아이디어

- **이벤트 시스템**: 도메인 이벤트 발행/구독
- **메시지 큐**: 비동기 메시지 처리
- **로깅/모니터링**: 시스템 이벤트 추적

## 장단점

- **장점**: 느슨한 결합, 동적 구독/해지
- **단점**: 순환 통지, 메모리 누수(구독 해지 누락) 위험

## 구현 팁

- 해지(unsubscribe) 전략을 명확히(스코프/라이프사이클)
- 통지 폭주 시 배치/디바운스 적용

## JavaScript 예제 (주석 포함)

```javascript
class Subject {
  constructor() {
    this.observers = new Set();
  }
  subscribe(o) {
    this.observers.add(o);
  }
  unsubscribe(o) {
    this.observers.delete(o);
  }
  notify(data) {
    this.observers.forEach((o) => o.update(data));
  }
}
class LoggerObserver {
  update(d) {
    console.log("log:", d);
  }
}
class MetricsObserver {
  update(d) {
    console.log("metric:", d.length);
  }
}

const subject = new Subject();
subject.subscribe(new LoggerObserver());
subject.subscribe(new MetricsObserver());
subject.notify("EVENT");
```
